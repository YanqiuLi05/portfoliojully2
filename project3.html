<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Project 3 - Jully Li</title>
    <style>
        @keyframes backgroundAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            height: 100vh;
            background: linear-gradient(45deg, #000000, #000146, #000000, #000e30);
            background-size: 300% 300%;
            animation: backgroundAnimation 10s ease infinite;
            overflow: hidden;
        }

        .back-button {
            position: absolute;
            top: 30px;
           right: 30px;
            color: #ffffff;
            text-decoration: none;
            font-size: 1.2rem;
            border: 2px solid #ffffff;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            transition: transform 0.3s ease, background-color 0.3s ease;
        }

        .back-button:hover {
            transform: scale(1.1);
            color: rgb(255, 0, 60);
        }

        .description {
            color: rgb(255, 255, 255);
            margin-top: 20px;
            font-size: 1.1rem;
            line-height: 1.6;
            max-width: 800px;
            text-align: center;
            padding: 0 1rem;
        }

        .canvas-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
        }
        canvas {
            display: block;
            margin: 0 auto;
            max-width: 100%;
            height: auto;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <script>
        function setup() {
            createCanvas(600, 600);
        }

        function draw() {
            background(198, 230, 214);
            let secondsIntoCycle = millis() / 1000 % 15; 
            let brownFactor = map(secondsIntoCycle, 0, 15, 0, 1);

            if (secondsIntoCycle > 15) {
                brownFactor = 0;
            }

            push();  
            fill(0, 154, 90);
            strokeWeight(0);
            translate(340, 120);  
            rotate(radians(20));  
            ellipse(0, 0, 80, 110);  
            pop();  //apple leaf üçÉ 
            
            push();
            fill(101, 67, 33);
            strokeWeight(0);
            triangle(270, 65, 325, 220, 290, 60);
            pop(); //branch of the apple

            push();
            strokeWeight(0);
            fill(255, 77, 77);
            push();  
            translate(220, 300);  
            rotate(radians(-10));  
            ellipse(0, 0, 320, 400);  
            pop(); //the left outside layer of the apple

            push();  
            translate(380, 300);  
            rotate(radians(10));  
            ellipse(0, 0, 320, 400);  
            pop();  //the right outside layer of the apple
            pop();

            push();
            fill(255,255,197);
            push(); 
            strokeWeight(0);
            push();  
            translate(220, 300);  
            rotate(radians(-10));  
            ellipse(0, 0, 300, 380);  
            pop(); //the left side of the apple 

            push();  
            translate(380, 300);  
            rotate(radians(10));  
            ellipse(0, 0, 300, 380);  
            pop();  //the right side of the apple
            pop();
            
            push();
            fill(lerpColor(color(255,255,197), color(150, 100, 50), brownFactor));
            strokeWeight(0);
            push();  
            translate(220, 300);  
            rotate(radians(-10));  
            ellipse(0, 0, 300, 380);  
            pop(); //the left side of the apple(colored)
            
            push();  
            translate(380, 300);  
            rotate(radians(10));  
            ellipse(0, 0, 300, 380);  
            pop();  //the right side of the apple(colored)

            push();
            strokeWeight(0);
            clip(mask);
            fill(101, 67, 33);
            ellipse(340,300,40,60);
            ellipse(280,300,40,60);
            function mask() {
                ellipse(330,300,40,60);
                ellipse(270,300,40,60); 
            }
            pop(); //apple seeds 
        }
    </script>
</head>
<body>
    <div class="canvas-container">
        <a class="back-button" href="p5js.html">&#8592; Back to p5.js Works</a>
        <div id="canvas"></div> 
    </div>
    <div class="description">
        <p>My experimental clock is half of an apple. It tracks time my showing how oxidixed the exposing part of the apple is. As the time goes by, the apply will turn from light yellow to brown, which indicates from fresh to oxidixed. It's novel to me because it's not an electronic clock, it use it's natural chemical reaction to show time. In this project I'm more familiar with the process of makeing those shapes and useing cilp().I used lerpColor to make it changes color.</p>
    </div>
</body>
</html>
